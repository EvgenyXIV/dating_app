# üåç DatingApp ‚Äî API-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–∞–π—Ç–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –Ω–∞ Django

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ

DatingApp ‚Äî —ç—Ç–æ **–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Django**, –¥–µ–ø–ª–æ–π –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –±—ç–∫–µ–Ω–¥ –≤ dev-—Ä–µ–∂–∏–º–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

- –í—Ö–æ–¥ —á–µ—Ä–µ–∑ **OAuth (–Ø–Ω–¥–µ–∫—Å, Google, Mail.ru)** ‚Äî –ø—Ä—è–º–æ –Ω–∞ —Å–∞–π—Ç–µ
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –ª–æ–≥–∏–Ω—É/–ø–∞—Ä–æ–ª—é ‚Äî —á–µ—Ä–µ–∑ HTML-—Ñ–æ—Ä–º—É
- JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî —á–µ—Ä–µ–∑ /api/token/ –∏ —Å–æ—Ü–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–Ø–Ω–¥–µ–∫—Å, Google, Mail.ru)
- –ü—Ä–∏ –ª—é–±–æ–º —Å–ø–æ—Å–æ–±–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–¥–∞—ë—Ç—Å—è jwt-—Ç–æ–∫–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è **—Ç–µ—Å—Ç–æ–≤—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—Ö–æ–¥–∞
- –ß–∏—Ç–∞—Ç—å **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API** (Swagger)
- –û–±—â–∞—Ç—å—Å—è –≤ **—á–∞—Ç–µ** —Å –ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (**matches**)
- –°–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏–∏ –ª–∞–π–∫–æ–≤ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–≤–æ–∏—Ö –¥–∏–∑–ª–∞–π–∫–æ–≤
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ —Å –≤—ã–±–æ—Ä–∫–æ–π –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ **–≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏ (+—Å—É–ø–µ—Ä—é–∑–µ—Ä +—Ç–µ—Å—Ç-—é–∑–µ—Ä –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—Ö–æ–¥–∞)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ ‚Äî —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –ø–∞—Ä–æ–ª–µ–º (–∏–ª–∏ –±–µ–∑ —Ñ–æ—Ä–º—ã, –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—è –Ω–µ—Ç)
- API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî DRF Browsable API + –∫–∞—Å—Ç–æ–º–Ω—ã–π api_root.html —Å –∫–Ω–æ–ø–∫–∞–º–∏ –≤—Ö–æ–¥–∞
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ DRF –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ 20 –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É

–í–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å dev‚Äî—Ä–µ–∂–∏–º–∞ **–Ω–∞ Django- –∏ –∫–∞—Å—Ç–æ–º- —à–∞–±–ª–æ–Ω–∞—Ö, api-–≤—å—é—Å–µ—Ç–∞—Ö**, –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**:          Python 3.12, Django 5.1, DRF, JWT
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**:   JWT (SimpleJWT), OAuth2 (Google, Yandex, Mailru —á–µ—Ä–µ–∑ Allauth)
- **WebSocket**:        AsyncWebsocketConsumer (Django Channels) "InMemoryChannelLayer"
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**:      PostgreSQL (Django ORM –∏ SOLAlchemy, PgAdmin4 –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ Docker),
- **API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Swagger (drf-yasg)
- **CORS**:             "django-cors-headers"
- **–î–µ–ø–ª–æ–π**:           Docker + Docker Compose (–Ω–∞ Ubuntu –∏–∑ Docker Desktop)
- **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**:  –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ "generate_mock_data" - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑ entrypoint.sh –ø—Ä–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
C:.
‚îÇ
‚îÇ   .dockerignore           # –ò—Å–∫–ª—é—á–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ Docker-–æ–±—Ä–∞–∑–∞ (venv, .env, .pyc, media/)
‚îÇ   .env                    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: DEBUG, –ë–î, JWT, —Å–æ—Ü—Å–µ—Ç–∏, CORS, email
‚îÇ   .gitignore              # –ò—Å–∫–ª—é—á–∞–µ—Ç .env, __pycache__, .pyc, media/, .sqlite3 –∏–∑ Git
‚îÇ   docker-compose.yml      # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è: Django, PostgreSQL, pgAdmin, Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ   Dockerfile              # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, –∑–∞–ø—É—Å–∫ entrypoint
‚îÇ   entrypoint.sh           # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞: –æ–∂–∏–¥–∞–Ω–∏–µ –ë–î ‚Üí –º–∏–≥—Ä–∞—Ü–∏–∏ ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí collectstatic ‚Üí –∑–∞–ø—É—Å–∫
‚îÇ   Makefile                # –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: make up, migrate, shell, run
‚îÇ   manage.py               # –£—Ç–∏–ª–∏—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Django
‚îÇ   requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: Django, DRF, allauth, channels, psycopg2, python-dotenv
‚îÇ
‚îú‚îÄ‚îÄ‚îÄchat                   # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: —á–∞—Ç—ã –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îÇ   admin.py           # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ChatRoom –∏ ChatMessage –≤ –∞–¥–º–∏–Ω–∫–µ
‚îÇ   ‚îÇ   apps.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: ChatConfig
‚îÇ   ‚îÇ   consumers.py       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ WebSocket: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–∫–∞/–ø—Ä–∏—ë–º —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   models.py          # ChatRoom (user1, user2), ChatMessage (user, message, is_read)
‚îÇ   ‚îÇ   routing.py         # –ú–∞—Ä—à—Ä—É—Ç—ã WebSocket: /ws/chat/<room_id>/
‚îÇ   ‚îÇ   serializers.py     # ChatMessageSerializer, ChatRoomSerializer, SendMessageSerializer
‚îÇ   ‚îÇ   views.py           # ChatRoomViewSet ‚Äî API –¥–ª—è —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤
‚îÇ   ‚îÇ   __init__.py        # –ü–∞–∫–µ—Ç Python
‚îÇ
‚îú‚îÄ‚îÄ‚îÄdating_app             # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç Django
‚îÇ   ‚îÇ   asgi.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è WebSocket (channels)
‚îÇ   ‚îÇ   settings.py        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏: JWT, CORS, allauth, DATABASES, TEMPLATES, REST_FRAMEWORK
‚îÇ   ‚îÇ   urls.py            # –ì–ª–∞–≤–Ω—ã–µ URL: admin/, api/, social-auth/, accounts/
‚îÇ   ‚îÇ   wsgi.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è WSGI
‚îÇ   ‚îÇ   __init__.py        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ‚îÄmedia                  # –ó–∞–≥—Ä—É–∂–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ‚îÄchat_attachments   # –í–ª–æ–∂–µ–Ω–∏—è –∏–∑ —á–∞—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄuser_photos        # –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ           default_avatar.jpg  # –ê–≤–∞—Ç–∞—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
‚îÇ
‚îú‚îÄ‚îÄ‚îÄstatic                 # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   favicon.ico        # –ò–∫–æ–Ω–∫–∞ —Å–∞–π—Ç–∞
‚îÇ   ‚îÇ   favicon.jpg        # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∏–∫–æ–Ω–∫–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ‚îÄcss               # –°—Ç–∏–ª–∏ (–ø–æ–∫–∞ –ø—É—Å—Ç–æ)
‚îÇ   ‚îú‚îÄ‚îÄ‚îÄimages            # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ–∫–∞ –ø—É—Å—Ç–æ)
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄjs                # JavaScript (–ø–æ–∫–∞ –ø—É—Å—Ç–æ)
‚îÇ
‚îú‚îÄ‚îÄ‚îÄstaticfiles            # –†–µ–∑—É–ª—å—Ç–∞—Ç collectstatic ‚Äî –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Nginx –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
‚îÇ
‚îú‚îÄ‚îÄ‚îÄtemplates              # HTML-—à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îÇ   api_root.html      # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≥–ª–∞–≤–Ω–∞—è API: –∫–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞, —Ç–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã
‚îÇ   ‚îÇ   login.html         # –ö–∞—Å—Ç–æ–º–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   logout.html        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã—Ö–æ–¥–∞
‚îÇ   ‚îÇ   profile_register.html   # HTML-—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   profile_unregister.html # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ‚îÄauth               # allauth
‚îÇ   ‚îÇ       login.html     # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄsocialaccount      # allauth
‚îÇ           signup.html    # –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Å–æ—Ü–≤—Ö–æ–¥–µ
‚îÇ
‚îî‚îÄ‚îÄ‚îÄusers                  # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–æ—Ñ–∏–ª–∏, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
    ‚îÇ   admin.py           # –ê–¥–º–∏–Ω–∫–∞: User, UserPhoto, Match, Invitation –∏ –¥—Ä.
    ‚îÇ   apps.py            # UsersConfig
    ‚îÇ   forms.py           # SocialSignupForm ‚Äî –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ—Ü—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    ‚îÇ   models.py          # User (email –∫–∞–∫ username), UserPhoto, UserAction, Match, Invitation, ContactExchange
    ‚îÇ   serializers.py     # UserRegister, UserProfile, Match, Invitation, EmailTokenObtainPairSerializer
    ‚îÇ   social_adapters.py # –ö–∞—Å—Ç–æ–º–Ω—ã–π SocialAccountAdapter: —Å–æ–∑–¥–∞–Ω–∏–µ –±–µ–∑ username, pre_social_login
    ‚îÇ   urls.py            # API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: /api/users/, /auth/social/, /api/logout/
    ‚îÇ   views.py           # UserViewSet, InteractionViewSet, api_root, CustomSignupView, SocialLoginView
    ‚îÇ   __init__.py        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄmanagement
        ‚îî‚îÄ‚îÄ‚îÄcommands
                generate_mock_data.py  # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ñ–æ—Ç–æ, –º—ç—Ç—á–∏, —á–∞—Ç—ã
                __init__.py

```

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ (Docker)

1. –°–æ–∑–¥–∞—Ç—å `.env`:

```text
.env
# Django
DEBUG=True
SECRET_KEY=**********
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,[::1],backend,web  # [::1] ‚Äî IPv6-–∞–¥—Ä–µ—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞

# Database
SQL_ENGINE=django.db.backends.postgresql
SQL_DATABASE=datingapp
SQL_USER=postgres
SQL_PASSWORD=postgres
SQL_HOST=db
SQL_PORT=5432
DATABASE=postgres
EMAIL_USER=postgres@postgres.ru
EMAIL_PASSWORD=postgres

# SUPERUSER
SUPERUSER_EMAIL=admin@admin.ru
SUPERUSER_PASSWORD=password
SUPERUSER_FIRST_NAME=admin
SUPERUSER_LAST_NAME=admin

# CORS
# CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://frontend:3000,http://localhost:8000,http://127.0.0.1:8000,
# –¢–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
CORS_ALLOW_ALL_ORIGINS=True

# Social Auth (–∑–∞–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
YANDEX_CLIENT_ID=your-yandex-client-id
YANDEX_CLIENT_SECRET=your-yandex-client-secret
MAILRU_CLIENT_ID=your-mailru-client-id
MAILRU_CLIENT_SECRET=your-mailru-client-secret

# Email (–¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
DEFAULT_FROM_EMAIL=dating-platform@example.com
```

2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose —Å .entrypoint.sh:

docker-compose up -d --build

**.entrypoint.sh** –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:

- —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∏–∑ requirements.txt)
- –º–∏–≥—Ä–∞—Ü–∏–∏ –±–¥
- –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –º–æ–∫–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤ —Ç.—á. —Å—É–ø–µ—Ä—é–∑–µ—Ä –∏ —Ç–µ—Å—Ç-—é–∑–µ—Ä (—á–∏—Å–ª–æ –¥—Ä—É–≥–∏—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3000),
  –≤–∫–ª—é—á–∞—è –ª–∞–π–∫–∏, –º—ç—Ç—á–∏, —á–∞—Ç-–∫–æ–º–Ω–∞—Ç—ã. –ß–∏—Å–ª–æ –º–æ–∫–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞–¥–∞—ë—Ç—Å—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ **count**.
  –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ users/management/commands/generate_mock_data.py

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ **localhost:8000**
–ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–≤–µ–¥–µ–Ω —Å–ø–∏—Å–æ–∫ **–î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–π–Ω—Ç—ã**
–°–æ—Å—Ç–∞–≤ —ç–Ω–¥–ø–æ–π–Ω—Ç–æ–≤ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
–ï—Å—Ç—å –≥—Ä—É–ø–ø–∞ —ç–Ω–¥–ø–æ–π–Ω—Ç–æ–≤, –¥–æ—Å—Ç—É–ø–Ω–∞—è –≤—Å–µ–º:

**–î–õ–Ø –í–°–ï–• –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø/–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø/–î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø**:

- –∫–æ–º–±–æ: JWT –≤—Ö–æ–¥ –ª–æ–≥–∏–Ω-–ø–∞—Ä–æ–ª—å/DRF –∏ JWT SSO-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è/DRF-—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/—É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
/login/
- –ø–æ–ª—É—á–∏—Ç—å jwt-—Ç–æ–∫–µ–Ω –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ headers:'Authorization': `Bearer ${token}`
/api/token/
- –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é DRF (Browsable API) —Ç–æ–∫–µ–Ω-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
/api-auth/login/
- –≤—Ö–æ–¥ jango-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è/jango-—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–æ—Ü—Å–µ—Ç–∏
/accounts/login/
- Django-—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
/register/
- documentation swagger
/swagger/


**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
Swagger: <http://localhost:8000/swagger/>

**Makefile** (—É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã)

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
JWT —Å access –∏ refresh —Ç–æ–∫–µ–Ω–∞–º–∏
CSRF-–∑–∞—â–∏—Ç–∞ –¥–ª—è HTML-—Ñ–æ—Ä–º
CORS: django-cors-headers
OAuth2: Google, Yandex, Mail.ru
–í—Å–µ –ø–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è

## –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –ß–ï–†–ï–ó –°–û–¶.–°–ï–¢–ò

–°–æ–∑–¥–∞–Ω–∏–µ user –±–µ–∑ –ø–æ–ª—è "username" (–∑–∞–º–µ–Ω–∞ –Ω–∞ "email") –æ–±–µ—Å–ø–µ—á–∏–≤–∞–ª–æ—Å—å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:

```
-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π –º–æ–¥–µ–ª–∏ USER
-–∫–∞—Å—Ç–æ–º–Ω–∞—è —Ñ–æ—Ä–º–∞ dating_app\users\forms.py
-–∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è dating_app\users\social_adapters.py
-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ CustomSocialSignupView –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º—É –≤ —Ñ–∞–π–ª–µ  dating_app\users\views.py
-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ—Ü–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
-–ø—Ä–∏ WEB —Å–æ—Ü–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (/accounts/login) user —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –ø–∞—Ä–æ–ª–µ–º —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–π DRF —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (accounts/3rdparty/signup/ –≤ dating_app\dating_app\urls.py) —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º "/"
-–ø—Ä–∏ JWT —Å–æ—Ü–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (/api/auth/social/<provider>/login/) user —Å–æ–∑–¥–∞—ë—Ç—Å—è –±–µ–∑ –ø–∞—Ä–æ–ª—è —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º "/".

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø–∞—Ä–æ–ª–µ–º ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç —É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–∞—Ä–æ–ª–µ–º
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –ø–∞—Ä–æ–ª—è (—á–µ—Ä–µ–∑ —Å–æ—Ü—Å–µ—Ç–∏) ‚Äî —É–¥–∞–ª—è—é—Ç –∞–∫–∫–∞—É–Ω—Ç –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö–æ—Å—Ç–∞ http://localhost
```

## CLEANUP

–î–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Å—ã–ª–æ–∫ –≤ –∞–¥–º–∏–Ω–∫–µ –∏–ª–∏ –º–æ–¥–µ–ª—è—Ö —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 
pip install django-cleanup
–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –µ–≥–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º(!!) –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
INSTALLED_APPS = (
    ...,
    'django_cleanup.apps.CleanupConfig',
)
